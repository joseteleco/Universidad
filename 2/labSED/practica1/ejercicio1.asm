;*****************************************************************************************************************
;EJERCICIO_1.asm; LED intermitente
;*****************************************************************************************************************
	LIST P=16F887				;
;*****************************************************************************************************************
; Registros y constantes propios del micro
F	EQU	1				; Destino F
W	EQU	0				; Destino W
STATUS	EQU	03				;
RP0	EQU	5				;
RP1	EQU	6				;
PORTA	EQU	05				;
INTCON	EQU	0B				;
ANSEL	EQU	188				;
ANSELH	EQU	189				;
;Configuración de conversor A/D
;*****************************************************************************************************************
; Registros particulares del programa
CONT1	EQU	20				;
CONT2	EQU	21				;
;*****************************************************************************************************************
; Asignación de puertos
P_LED	EQU	PORTA				;
B_LED	EQU	0				;
;*****************************************************************************************************************
;*****************************************************************************************************************
; Inicio de programa. Dirección de Reset
;*****************************************************************************************************************
;*****************************************************************************************************************
	ORG	003				;
	GOTO	PROGPPAL			;
;*****************************************************************************************************************
; Programa principal
;*****************************************************************************************************************
PROGPPAL:
;******	Inicializaciones
	BSF	STATUS,RP0			;
	BSF	STATUS,RP1			;
	CLRF	ANSEL&7F			;
	CLRF	ANSELH&7F			;
	BCF	STATUS,RP1			;
	CLRF	P_LED				;
	BCF	STATUS,RP0			;
;******	Lazo principal
LAZOPPAL:
	BCF	P_LED,B_LED			;
	MOVLW	0FF				;
	MOVWF	CONT1				;
PAUS11:
	MOVLW	0FF				;
	MOVWF	CONT2				;
PAUS12:
	DECFSZ	CONT2,F				;
	GOTO	PAUS12				;
	DECFSZ	CONT1,F				;
	GOTO	PAUS11				;
	BSF	P_LED,B_LED			;
	MOVLW	7F				;
	MOVWF	CONT1				;
PAUS21:
	MOVLW	0FF				;
	MOVWF	CONT2				;
PAUS22:
	DECFSZ	CONT2,F				;
	GOTO	PAUS22				;
	DECFSZ	CONT1,F				;
	GOTO	PAUS21				;
	GOTO	LAZOPPAL			;
;*****************************************************************************************************************
	END;